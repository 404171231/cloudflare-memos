import{j as e}from"./radix-vendor-C59FrWl4.js";import{o as s}from"./mobx-vendor-DqSTJMYi.js";import{r as a}from"./leaflet-vendor-lQi0KVke.js";import{u as t,a as o,b as l,w as r,I as i,B as n,L as d,d as m,i as c,n as u}from"./index-DbdC5ZdO.js";const f=s(()=>{const s=t(),f=o(),p=l(!1),[x,h]=a.useState("demo"===r.state.profile.mode?"yourselfhosted":""),[g,j]=a.useState("demo"===r.state.profile.mode?"yourselfhosted":""),w=async()=>{if(""!==x&&""!==g&&!p.isLoading){try{p.setLoading(),await m.createSession({passwordCredentials:{username:x,password:g}}),await c(),f("/")}catch(e){u.error(e.details||"Failed to sign in.")}p.setFinish()}};return e.jsxs("form",{className:"w-full mt-2",onSubmit:e=>{e.preventDefault(),w()},children:[e.jsxs("div",{className:"flex flex-col justify-start items-start w-full gap-4",children:[e.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[e.jsx("span",{className:"leading-8 text-muted-foreground",children:s("common.username")}),e.jsx(i,{className:"w-full bg-background h-10",type:"text",readOnly:p.isLoading,placeholder:s("common.username"),value:x,autoComplete:"username",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.target.value;h(s)},required:!0})]}),e.jsxs("div",{className:"w-full flex flex-col justify-start items-start",children:[e.jsx("span",{className:"leading-8 text-muted-foreground",children:s("common.password")}),e.jsx(i,{className:"w-full bg-background h-10",type:"password",readOnly:p.isLoading,placeholder:s("common.password"),value:g,autoComplete:"password",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const s=e.target.value;j(s)},required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-end items-center w-full mt-6",children:e.jsxs(n,{type:"submit",className:"w-full h-10",disabled:p.isLoading,onClick:w,children:[s("common.sign-in"),p.isLoading&&e.jsx(d,{className:"w-5 h-auto ml-2 animate-spin opacity-60"})]})})]})});export{f as P};
